#!/usr/bin/env php
<?php

define('CHECKER_PATH', realpath(__DIR__ . '/..'));

$autoloads = [
    getcwd().'/vendor/autoload.php',
    getcwd().'/../../autoload.php',
    __DIR__.'/../vendor/autoload.php',
    __DIR__.'/../../../autoload.php',
];

$loaded = false;
foreach ($autoloads as $autoload) {
    if (is_file($autoload)) {
        require_once($autoload);
        $loaded = true;
    }
}

if (! $loaded) {
    fwrite(
        STDERR,
        'You must set up the project dependencies, run the following commands:'.PHP_EOL.
        'curl -s http://getcomposer.org/installer | php'.PHP_EOL.
        'php composer.phar install'.PHP_EOL
    );
    exit(1);
}

date_default_timezone_set('UTC');

$app = new ClickNow\Checker\Console\Application();
$app->run();
